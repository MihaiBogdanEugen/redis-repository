plugins {
    id "java"
    id "application"
}

repositories {
    mavenCentral()
}

ext {
    jedisVersion = "3.5.1"
    junitJupiterVersion = "5.7.1"
    testContainersVersion = "1.15.2"
    slf4jVersion = "1.7.30"
}

java {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

dependencies {
    implementation "redis.clients:jedis:$jedisVersion"
    testImplementation "org.testcontainers:testcontainers:$testContainersVersion"
    testImplementation "org.testcontainers:junit-jupiter:$testContainersVersion"
    testImplementation "org.junit.jupiter:junit-jupiter-api:$junitJupiterVersion"
    testImplementation "org.junit.jupiter:junit-jupiter-params:$junitJupiterVersion"
    testRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:$junitJupiterVersion"
    testRuntimeOnly "org.slf4j:slf4j-simple:$slf4jVersion"
}

tasks.named("test") {
    useJUnitPlatform()
    testLogging {
        events "passed", "skipped", "failed"
    }
}